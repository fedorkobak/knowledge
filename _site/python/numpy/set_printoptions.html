<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>knowledge_bank - Источники информации</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">
      knowledge_bank
      </li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">knowledge_bank</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docker/basics/basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Источники</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#далее-разоран-каждый-аргумент" id="toc-далее-разоран-каждый-аргумент" class="nav-link active" data-scroll-target="#далее-разоран-каждый-аргумент">Далее разоран каждый аргумент:</a></li>
  <li><a href="#precision" id="toc-precision" class="nav-link" data-scroll-target="#precision"></a><a id="2" class="nav-link" data-scroll-target="undefined"><code>precision</code></a></li>
  <li><a href="#threshold" id="toc-threshold" class="nav-link" data-scroll-target="#threshold"></a><a id="3" class="nav-link" data-scroll-target="undefined"><code>threshold</code></a></li>
  <li><a href="#edgeitems" id="toc-edgeitems" class="nav-link" data-scroll-target="#edgeitems"></a><a id="4" class="nav-link" data-scroll-target="undefined"><code>edgeitems</code></a></li>
  <li><a href="#linewidth" id="toc-linewidth" class="nav-link" data-scroll-target="#linewidth"></a><a id="5" class="nav-link" data-scroll-target="undefined"><code>linewidth</code></a></li>
  <li><a href="#suppress" id="toc-suppress" class="nav-link" data-scroll-target="#suppress"></a><a id="6" class="nav-link" data-scroll-target="undefined"><code>suppress</code></a>
  <ul class="collapse">
  <li><a href="#одно-маленькое-число-0.0001" id="toc-одно-маленькое-число-0.0001" class="nav-link" data-scroll-target="#одно-маленькое-число-0.0001">Одно маленькое число (&lt;0.0001)</a></li>
  <li><a href="#отношение-максимального-числа-к-минимальному-составляет-более-1000" id="toc-отношение-максимального-числа-к-минимальному-составляет-более-1000" class="nav-link" data-scroll-target="#отношение-максимального-числа-к-минимальному-составляет-более-1000">Отношение максимального числа к минимальному составляет более 1000</a></li>
  <li><a href="#заметим-что-это-работет-только-для-массивов-типа-float" id="toc-заметим-что-это-работет-только-для-массивов-типа-float" class="nav-link" data-scroll-target="#заметим-что-это-работет-только-для-массивов-типа-float">Заметим, что это работет только для массивов типа <code>float</code></a></li>
  </ul></li>
  <li><a href="#nanstr" id="toc-nanstr" class="nav-link" data-scroll-target="#nanstr"></a><a id="7" class="nav-link" data-scroll-target="undefined"><code>nanstr</code></a></li>
  <li><a href="#infstr" id="toc-infstr" class="nav-link" data-scroll-target="#infstr"></a><a id="8" class="nav-link" data-scroll-target="undefined"><code>infstr</code></a></li>
  <li><a href="#sign" id="toc-sign" class="nav-link" data-scroll-target="#sign"></a><a id="9" class="nav-link" data-scroll-target="undefined"><code>sign</code></a>
  <ul class="collapse">
  <li><a href="#замети-что-это-работает-только-для-типа-данных-float" id="toc-замети-что-это-работает-только-для-типа-данных-float" class="nav-link" data-scroll-target="#замети-что-это-работает-только-для-типа-данных-float">Замети, что это работает только для типа данных <code>float</code></a></li>
  <li><a href="#это-не-работает-когда-numpy-подгоняет-под-отображение-матрицей" id="toc-это-не-работает-когда-numpy-подгоняет-под-отображение-матрицей" class="nav-link" data-scroll-target="#это-не-работает-когда-numpy-подгоняет-под-отображение-матрицей">Это не работает когда <code>numpy</code> подгоняет под отображение матрицей</a></li>
  </ul></li>
  <li><a href="#formatter" id="toc-formatter" class="nav-link" data-scroll-target="#formatter"></a><a id="10" class="nav-link" data-scroll-target="undefined"><code>formatter</code></a>
  <ul class="collapse">
  <li><a href="#базовый-случай-рассмотрим-с-использованием-типа-данных-bool" id="toc-базовый-случай-рассмотрим-с-использованием-типа-данных-bool" class="nav-link" data-scroll-target="#базовый-случай-рассмотрим-с-использованием-типа-данных-bool">Базовый случай рассмотрим с использованием типа данных <code>bool</code></a></li>
  <li><a href="#ключ-all-позволит-применить-этот-форматер-ко-всем-типам-данных" id="toc-ключ-all-позволит-применить-этот-форматер-ко-всем-типам-данных" class="nav-link" data-scroll-target="#ключ-all-позволит-применить-этот-форматер-ко-всем-типам-данных">Ключ <code>all</code> позволит применить этот форматер ко всем типам данных</a></li>
  </ul></li>
  <li><a href="#floatmode" id="toc-floatmode" class="nav-link" data-scroll-target="#floatmode"></a><a id="11" class="nav-link" data-scroll-target="undefined"><code>floatmode</code></a>
  <ul class="collapse">
  <li><a href="#fixed" id="toc-fixed" class="nav-link" data-scroll-target="#fixed"><code>fixed</code></a></li>
  <li><a href="#unique" id="toc-unique" class="nav-link" data-scroll-target="#unique"><code>unique</code></a></li>
  <li><a href="#maxprec" id="toc-maxprec" class="nav-link" data-scroll-target="#maxprec"><code>maxprec</code></a></li>
  <li><a href="#maxprec_equal" id="toc-maxprec_equal" class="nav-link" data-scroll-target="#maxprec_equal"><code>maxprec_equal</code></a></li>
  </ul></li>
  <li><a href="#legacy" id="toc-legacy" class="nav-link" data-scroll-target="#legacy"></a><a id="12" class="nav-link" data-scroll-target="undefined"><code>legacy</code></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Источники информации</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p><strong>В numpy, как оказалось можно настроить вывод инофрмации на в консоль, делается это с помощью функции <code>set_printoptions</code>, которой и посвящена эта книжка</strong>, далее я постепенно разбираю аргументы функции, распространенные и интерестные случаи из моей практики связанные с этой функцией.</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>np.random.seed(<span class="dv">1</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># эксперементальный набор данных, который будет исопльзоваться для описания большинства примеров</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>arr <span class="op">=</span> np.random.uniform(<span class="op">-</span><span class="dv">10</span>, <span class="dv">10</span>, <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>https://numpy.org/doc/stable/reference/generated/numpy.set_printoptions.html. <a id="1"></a></li>
</ul>
<section id="далее-разоран-каждый-аргумент" class="level1">
<h1>Далее разоран каждый аргумент:</h1>
<ul>
<li><a href="#2"><code>precision</code></a>;</li>
<li><a href="#3"><code>threshold</code></a>;</li>
<li><a href="#4"><code>edgeitems</code></a>;</li>
<li><a href="#5"><code>linewidth</code></a>;</li>
<li><a href="#6"><code>suppress</code></a>;</li>
<li><a href="#7"><code>nanstr</code></a>;</li>
<li><a href="#8"><code>infstr</code></a>;</li>
<li><a href="#9"><code>sing</code></a>;</li>
<li><a href="#10"><code>formatter</code></a>;</li>
<li><a href="#11"><code>floatmode</code></a>;</li>
<li><a href="#12"><code>legacy</code></a>.</li>
</ul>
</section>
<section id="precision" class="level1">
<h1><a id="2"><code>precision</code></a></h1>
<p>Позволяет настроить сколько знаков после запятой <code>numpy</code> будет отображать. По умолчанию 8.</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"precision = 3"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    precision <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(arr)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"precision = 5"</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    precision <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(arr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>precision = 3
[-1.66   4.406 -9.998 -3.953 -7.065 -8.153 -6.275 -3.089 -2.065  0.776
 -1.616  3.704 -5.911  7.562 -9.452  3.409 -1.654  1.174 -7.192 -6.038]
precision = 5
[-1.65956  4.40649 -9.99771 -3.95335 -7.06488 -8.15323 -6.2748  -3.08879
 -2.06465  0.77633 -1.61611  3.70439 -5.91096  7.56235 -9.45225  3.40935
 -1.6539   1.1738  -7.19226 -6.03797]</code></pre>
</div>
</div>
</section>
<section id="threshold" class="level1">
<h1><a id="3"><code>threshold</code></a></h1>
<p>Позволяет настроить насколько большие массивы будут выводиться без “сокращения”. (По умолчанию 1000)</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"threshold = 20; приведёт к полному отображению массива"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(threshold <span class="op">=</span> <span class="dv">20</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(arr)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"threshold = 19; приведёт к сокращенному отображению массива"</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(threshold <span class="op">=</span> <span class="dv">19</span>)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(arr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>threshold = 20; приведёт к полному отображению массива
[-1.65956  4.40649 -9.99771 -3.95335 -7.06488 -8.15323 -6.2748  -3.08879
 -2.06465  0.77633 -1.61611  3.70439 -5.91096  7.56235 -9.45225  3.40935
 -1.6539   1.1738  -7.19226 -6.03797]
threshold = 19; приведёт к сокращенному отображению массива
[-1.65956  4.40649 -9.99771 ...  1.1738  -7.19226 -6.03797]</code></pre>
</div>
</div>
</section>
<section id="edgeitems" class="level1">
<h1><a id="4"><code>edgeitems</code></a></h1>
<p>Укажет сколько в сокращенном отображении массива должно элементов отображаться с каждой стороны. По умолчанию 3.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    edgeitems<span class="op">=</span><span class="dv">3</span>,</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    threshold<span class="op">=</span><span class="dv">0</span> <span class="co">#для того, </span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># чтобы заставить любой массив</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># отображаться в сокращенной форме</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"edgeitems=3"</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(arr)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    edgeitems<span class="op">=</span><span class="dv">5</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"edgeitems=5"</span>)</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(arr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>edgeitems=3
[-1.65956  4.40649 -9.99771 ...  1.1738  -7.19226 -6.03797]
edgeitems=5
[-1.65956  4.40649 -9.99771 -3.95335 -7.06488 ...  3.40935 -1.6539
  1.1738  -7.19226 -6.03797]</code></pre>
</div>
</div>
</section>
<section id="linewidth" class="level1">
<h1><a id="5"><code>linewidth</code></a></h1>
<p>Сколько символов будет отображено в каждой строке, по умолчанию используется 75. <code>[</code> и <code>\n</code> тоже учитываются. Потому всегда получается на 3 символа из массива меньше. Похоже результат приблизительный, потому как указанное <code>linewidth</code> может быть не кратно числу символов матрицы. Более того, строки бывают разные - минусы, и значение аргумента <code>precision</code> будут влиять на длинну строк.<br></p>
<p>Вот пару примеров</p>
<p><code>linewidth = 40</code></p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    linewidth <span class="op">=</span> <span class="dv">40</span>,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    threshold<span class="op">=</span><span class="dv">1000</span> <span class="co"># для того, чтобы вне зависимости</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># от предыдущих дейсвий отображался полный массив</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(arr)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Число символов по строкам (</span><span class="ch">\\</span><span class="st">n был удален)"</span>)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>matr_strs <span class="op">=</span> <span class="bu">str</span>(arr).split(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>[<span class="bu">len</span>(s) <span class="cf">for</span> s <span class="kw">in</span> matr_strs]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[-1.65956  4.40649 -9.99771 -3.95335
 -7.06488 -8.15323 -6.2748  -3.08879
 -2.06465  0.77633 -1.61611  3.70439
 -5.91096  7.56235 -9.45225  3.40935
 -1.6539   1.1738  -7.19226 -6.03797]
Число символов по строкам (\n был удален)</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>[36, 36, 36, 36, 37]</code></pre>
</div>
</div>
<p><code>linewidth = 20</code></p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    linewidth <span class="op">=</span> <span class="dv">20</span>,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    threshold<span class="op">=</span><span class="dv">1000</span> <span class="co"># для того, чтобы вне зависимости</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># от предыдущих дейсвий отображался полный массив</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(arr)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Число символов по строкам (</span><span class="ch">\\</span><span class="st">n был удален)"</span>)</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>matr_strs <span class="op">=</span> <span class="bu">str</span>(arr).split(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>[<span class="bu">len</span>(s) <span class="cf">for</span> s <span class="kw">in</span> matr_strs]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[-1.65956  4.40649
 -9.99771 -3.95335
 -7.06488 -8.15323
 -6.2748  -3.08879
 -2.06465  0.77633
 -1.61611  3.70439
 -5.91096  7.56235
 -9.45225  3.40935
 -1.6539   1.1738
 -7.19226 -6.03797]
Число символов по строкам (\n был удален)</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>[18, 18, 18, 18, 18, 18, 18, 18, 17, 19]</code></pre>
</div>
</div>
</section>
<section id="suppress" class="level1">
<h1><a id="6"><code>suppress</code></a></h1>
<p>Определяет, будет ли использована экспоненциальная форма записи числа. В случае <code>True</code> числа всегда будут печататьсяв привычном формате, будучи сокращенными в соответствии со значением аргумента <code>precision</code>. В случае <code>False</code>, если в массиве находится число менее 0.0001 или отношение максимального и модуля минимального элемента массива составляет более 1000, весь массив будет напечатан в экспоненциальной форме. По умолчанию всегда <code>False</code>.</p>
<section id="одно-маленькое-число-0.0001" class="level3">
<h3 class="anchored" data-anchor-id="одно-маленькое-число-0.0001">Одно маленькое число (&lt;0.0001)</h3>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>unavailible_number <span class="op">=</span> np.array([<span class="fl">0.000099</span>])</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>availible_number <span class="op">=</span> np.array([<span class="fl">0.0001</span>])</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    suppress <span class="op">=</span> <span class="va">True</span>,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    linewidth <span class="op">=</span> <span class="dv">20</span>, <span class="co"># это для того, чтобы числа</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># помещались в вывод</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    precision <span class="op">=</span> <span class="dv">8</span> <span class="co"># это чтобы числа, которые я указал</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># не округлились автоматически</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"=================suppress = True================"</span>)</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"availible number"</span>, availible_number)</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"unavailible number"</span>, unavailible_number, end <span class="op">=</span> <span class="st">"</span><span class="ch">\n\n\n</span><span class="st">"</span>)</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(suppress <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"=================suppress = False================"</span>)</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"availible number"</span>, availible_number)</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"unavailible number"</span>, unavailible_number)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=================suppress = True================
availible number [0.0001]
unavailible number [0.000099]


=================suppress = False================
availible number [0.0001]
unavailible number [9.9e-05]</code></pre>
</div>
</div>
</section>
<section id="отношение-максимального-числа-к-минимальному-составляет-более-1000" class="level3">
<h3 class="anchored" data-anchor-id="отношение-максимального-числа-к-минимальному-составляет-более-1000">Отношение максимального числа к минимальному составляет более 1000</h3>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>availible_arr <span class="op">=</span> np.array([<span class="fl">1.0</span>, <span class="dv">1000</span>])</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>unavailible_arr <span class="op">=</span> np.array([<span class="fl">1.0</span>, <span class="dv">1001</span>])</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    suppress <span class="op">=</span> <span class="va">True</span>,</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    linewidth <span class="op">=</span> <span class="dv">20</span>, <span class="co"># это для того, чтобы числа</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># помещались в вывод</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    precision <span class="op">=</span> <span class="dv">8</span> <span class="co"># это чтобы числа, которые я указал</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># не округлились автоматически</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"=================suppress = True=================="</span>)</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"unavailible arr"</span>, unavailible_arr)</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"availible arr"</span>, availible_arr, end<span class="op">=</span><span class="st">"</span><span class="ch">\n\n\n</span><span class="st">"</span>)</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(suppress <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"=================suppress = False=================="</span>)</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"unavailible arr"</span>, unavailible_arr)</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"availible arr"</span>, availible_arr, end<span class="op">=</span><span class="st">"</span><span class="ch">\n\n\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=================suppress = True==================
unavailible arr [   1. 1001.]
availible arr [   1. 1000.]


=================suppress = False==================
unavailible arr [1.000e+00
 1.001e+03]
availible arr [   1. 1000.]

</code></pre>
</div>
</div>
</section>
<section id="заметим-что-это-работет-только-для-массивов-типа-float" class="level3">
<h3 class="anchored" data-anchor-id="заметим-что-это-работет-только-для-массивов-типа-float">Заметим, что это работет только для массивов типа <code>float</code></h3>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(suppress <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"int не меняются"</span>)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>ints_arr <span class="op">=</span> np.array([<span class="dv">1</span>, <span class="dv">1001</span>])</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(ints_arr, end <span class="op">=</span> <span class="st">"</span><span class="ch">\n\n\n</span><span class="st">"</span>)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>floats_arr <span class="op">=</span> np.array([<span class="fl">1.0</span>, <span class="dv">1001</span>])</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"float меняется"</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(floats_arr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>int не меняются
[   1 1001]


float меняется
[1.000e+00
 1.001e+03]</code></pre>
</div>
</div>
</section>
</section>
<section id="nanstr" class="level1">
<h1><a id="7"><code>nanstr</code></a></h1>
<p>Позволяет настроить как будет отображен <code>np.NaN</code> в коммандном окне. По умолчанию <code>'nan'</code>.</p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(nanstr <span class="op">=</span> <span class="st">"Нет данных"</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>nan_arr <span class="op">=</span> np.fromfunction(</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">lambda</span> i, j: np.where(</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>        (i<span class="op">+</span>j)<span class="op">%</span><span class="dv">2</span>, <span class="dv">0</span>, np.NaN</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">4</span>,<span class="dv">4</span>)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>nan_arr</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>array([[Нет данных,
                0.,
        Нет данных,
                0.],
       [        0.,
        Нет данных,
                0.,
        Нет данных],
       [Нет данных,
                0.,
        Нет данных,
                0.],
       [        0.,
        Нет данных,
                0.,
        Нет данных]])</code></pre>
</div>
</div>
</section>
<section id="infstr" class="level1">
<h1><a id="8"><code>infstr</code></a></h1>
<p>Позволяет настроить как будет отображент np.inf в коммандном окне. По умолчанию <code>'inf'</code></p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(infstr <span class="op">=</span> <span class="st">"Бесконечность"</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>nan_arr <span class="op">=</span> np.fromfunction(</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">lambda</span> i, j: np.where(</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>        (i<span class="op">+</span>j)<span class="op">%</span><span class="dv">2</span>, <span class="op">-</span>np.inf, np.inf</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">4</span>,<span class="dv">4</span>)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>nan_arr</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre><code>array([[ Бесконечность,
        -Бесконечность,
         Бесконечность,
        -Бесконечность],
       [-Бесконечность,
         Бесконечность,
        -Бесконечность,
         Бесконечность],
       [ Бесконечность,
        -Бесконечность,
         Бесконечность,
        -Бесконечность],
       [-Бесконечность,
         Бесконечность,
        -Бесконечность,
         Бесконечность]])</code></pre>
</div>
</div>
</section>
<section id="sign" class="level1">
<h1><a id="9"><code>sign</code></a></h1>
<p>Позволяет определить как будет при выводе записан символ <code>+</code> для положительных дробных чисел, может принимать значения:</p>
<ul>
<li><code>'-'</code> будет обозначать, что знак <code>+</code> следует просто опускать;</li>
<li><code>'+'</code> будет обозначать, что знак <code>+</code> будет явно записан;</li>
<li><code>' '</code> будет обозначать, что знак на месте каждого знака <code>+</code> будет помещен <code>' '</code> (пробел).</li>
</ul>
<p>По умолчанию используется значение <code>'-'</code>.</p>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    sign <span class="op">=</span> <span class="st">'-'</span>,</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    linewidth <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(np.array([<span class="fl">1.0</span>]))</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(sign <span class="op">=</span> <span class="st">'+'</span>)</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(np.array([<span class="fl">1.0</span>]))</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(sign <span class="op">=</span> <span class="st">' '</span>)</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(np.array([<span class="fl">1.0</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1.]
[+1.]
[ 1.]</code></pre>
</div>
</div>
<section id="замети-что-это-работает-только-для-типа-данных-float" class="level3">
<h3 class="anchored" data-anchor-id="замети-что-это-работает-только-для-типа-данных-float">Замети, что это работает только для типа данных <code>float</code></h3>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(sign <span class="op">=</span> <span class="st">' '</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>np.array([<span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>array([1])</code></pre>
</div>
</div>
</section>
<section id="это-не-работает-когда-numpy-подгоняет-под-отображение-матрицей" class="level3">
<h3 class="anchored" data-anchor-id="это-не-работает-когда-numpy-подгоняет-под-отображение-матрицей">Это не работает когда <code>numpy</code> подгоняет под отображение матрицей</h3>
<p>В следующем примере, по идее, не отрицательные числа должны не иметь пробелов вместо минуса, но для того, чтобы матрица была “ровная”, подставляется побел.</p>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    sign <span class="op">=</span> <span class="st">'-'</span>,</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    linewidth <span class="op">=</span> <span class="dv">40</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>arr</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>array([-1.65955991,  4.40648987,
       -9.9977125 , -3.95334855,
       -7.06488218, -8.1532281 ,
       -6.27479577, -3.08878546,
       -2.06465052,  0.77633468,
       -1.61610971,  3.70439001,
       -5.91095501,  7.56234873,
       -9.45224814,  3.4093502 ,
       -1.65390395,  1.17379657,
       -7.19226123, -6.03797022])</code></pre>
</div>
</div>
</section>
</section>
<section id="formatter" class="level1">
<h1><a id="10"><code>formatter</code></a></h1>
<p>Позволяет для каждого типа определить функцию как элементы этого массива будут преобразованы в функции. Функция ожидает словарь, в котором для каждого типа массива <code>numpy</code> может быть указан способ превращения в строку. Более подробно о всех типах можно уздать из <a href="#1">оффициальной документации</a>. Мы же рассмотрим только случаи показавшиеся мне интерестными:</p>
<section id="базовый-случай-рассмотрим-с-использованием-типа-данных-bool" class="level3">
<h3 class="anchored" data-anchor-id="базовый-случай-рассмотрим-с-использованием-типа-данных-bool">Базовый случай рассмотрим с использованием типа данных <code>bool</code></h3>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>bool_exprimental <span class="op">=</span> np.array([<span class="va">True</span>, <span class="va">False</span>])</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> bool_formatter(val):</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"Истинна"</span> <span class="cf">if</span> val <span class="cf">else</span> <span class="st">"Ложь"</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    formatter<span class="op">=</span>{<span class="st">'bool'</span>:bool_formatter}</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"bool dtype"</span>)</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(bool_exprimental)</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"int dtype"</span>)</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(arr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>bool dtype
[Истинна Ложь]
int dtype
[-1.65955991  4.40648987 -9.9977125
 -3.95334855 -7.06488218 -8.1532281
 -6.27479577 -3.08878546 -2.06465052
  0.77633468 -1.61610971  3.70439001
 -5.91095501  7.56234873 -9.45224814
  3.4093502  -1.65390395  1.17379657
 -7.19226123 -6.03797022]</code></pre>
</div>
</div>
<p>Использование пустого словаря переданного <code>formatter</code> приведёт к отмене всех установлленых функций форматирования.</p>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(formatter<span class="op">=</span>{})</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(bool_exprimental)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[ True False]</code></pre>
</div>
</div>
</section>
<section id="ключ-all-позволит-применить-этот-форматер-ко-всем-типам-данных" class="level3">
<h3 class="anchored" data-anchor-id="ключ-all-позволит-применить-этот-форматер-ко-всем-типам-данных">Ключ <code>all</code> позволит применить этот форматер ко всем типам данных</h3>
<p>В следующем примере для ключа <code>all</code> применяется функция которая для чисел типа <code>numpy.float64</code> вернет <code>Дробное</code> а для любого другого числа <code>Что-то ещё</code>.</p>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    formatter <span class="op">=</span> {</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">'all'</span> : <span class="kw">lambda</span> val: </span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Дробное"</span> <span class="cf">if</span> <span class="bu">type</span>(val) <span class="op">==</span> np.float64 <span class="cf">else</span> <span class="st">"Что-то ещё"</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"float64 примет вид"</span>)</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(arr)</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"int64 примет вид"</span>)</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(np.array([<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>float64 примет вид
[Дробное Дробное Дробное Дробное
 Дробное Дробное Дробное Дробное
 Дробное Дробное Дробное Дробное
 Дробное Дробное Дробное Дробное
 Дробное Дробное Дробное Дробное]
int64 примет вид
[Что-то ещё Что-то ещё Что-то ещё
 Что-то ещё]</code></pre>
</div>
</div>
<p>Интерестно, какой из ключей будет приоритетнее <code>all</code> или для некоторого конкретного типа.</p>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    formatter <span class="op">=</span> {</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">'bool'</span> : <span class="kw">lambda</span> x: <span class="st">"ключ для bool"</span>,</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">'all'</span> : <span class="kw">lambda</span> x: <span class="st">"ключ для all"</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>bool_array <span class="op">=</span> np.random.choice([<span class="va">True</span>, <span class="va">False</span>], <span class="dv">20</span>)</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>bool_array</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>array([ключ для bool, ключ для bool,
       ключ для bool, ключ для bool,
       ключ для bool, ключ для bool,
       ключ для bool, ключ для bool,
       ключ для bool, ключ для bool,
       ключ для bool, ключ для bool,
       ключ для bool, ключ для bool,
       ключ для bool, ключ для bool,
       ключ для bool, ключ для bool,
       ключ для bool, ключ для bool])</code></pre>
</div>
</div>
<p>Похоже, ключ определнного типа имеет приоритет.</p>
</section>
</section>
<section id="floatmode" class="level1">
<h1><a id="11"><code>floatmode</code></a></h1>
<p>Позволяет уточникть повередение преобразования дробных чисел в случае, если <code>precision</code> имеет спорное знечение. Вообще все сводится к двум случаям: - Число не может быть однозначно определено используя столько знаков; - Для однозначного определения числа слишком много знаков.</p>
<p>В следующем массиве при <code>precision = 3</code> представлены оба случая.</p>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(precision <span class="op">=</span> <span class="dv">3</span>)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>test_arr <span class="op">=</span> np.array(</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    [<span class="fl">0.4839</span>, <span class="fl">0.7</span>]</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Далее рассмотрим значения, которые может принимать <code>floatmode</code>.</p>
<section id="fixed" class="level3">
<h3 class="anchored" data-anchor-id="fixed"><code>fixed</code></h3>
<p>Означат безприкословное исполнение числа символов указанное, в <code>precision</code>. То есть неоднозначно определяемые числа будут округлены а числа с излишним количесвом знаков для однозначного определния будут дополнены <code>0</code>.</p>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    floatmode <span class="op">=</span> <span class="st">'fixed'</span>,</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>    precision <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>test_arr</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>array([0.484, 0.700])</code></pre>
</div>
</div>
</section>
<section id="unique" class="level3">
<h3 class="anchored" data-anchor-id="unique"><code>unique</code></h3>
<p>Озанчает, что будет использовано ровно столько знаков, сколько требуется для однозначного определения числа. По сути, это эквивалентно полному игнорированию аргумента <code>precision</code>.</p>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    floatmode <span class="op">=</span> <span class="st">'unique'</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>test_arr</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>array([0.4839, 0.7   ])</code></pre>
</div>
</div>
</section>
<section id="maxprec" class="level3">
<h3 class="anchored" data-anchor-id="maxprec"><code>maxprec</code></h3>
<p>Используется не более чем <code>precision</code> цифр. То есть, несмотря на неоднозначно определяемые числа используется не более <code>precision</code> знаков, а для числа, содеражащего менее <code>precision</code> цифр не происходит автодополнения нулями.</p>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(floatmode <span class="op">=</span> <span class="st">"maxprec"</span>)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>test_arr</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>array([0.484, 0.7  ])</code></pre>
</div>
</div>
</section>
<section id="maxprec_equal" class="level3">
<h3 class="anchored" data-anchor-id="maxprec_equal"><code>maxprec_equal</code></h3>
<p>Будет обозначать что используется всегда не более <code>precision</code> знаков. Но, в случае, если ни для однозначного определния любого из чисел требуется меньше знаков чем <code>precision</code> то будет использовано ровно столько занков сколько требуется. При этом все числа имеют одинаковое число выводимых знаков, т.е. вслучае если число (<span class="math inline">\(a\)</span>) однозначно определяется меньшим числом знаков нежели число определившие число знаков, то число <span class="math inline">\(a\)</span> при выводе будет дополнено нулями.</p>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(floatmode <span class="op">=</span> <span class="st">"maxprec_equal"</span>)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'требуется 4 занка для определения первого числа'</span>)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(test_arr)</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'требуется 2 знака для определения первого числа'</span>)</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(np.array([<span class="fl">0.55</span>, <span class="fl">0.5</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>требуется 4 занка для определения первого числа
[0.484 0.700]
требуется 2 знака для определения первого числа
[0.55 0.50]</code></pre>
</div>
</div>
</section>
</section>
<section id="legacy" class="level1">
<h1><a id="12"><code>legacy</code></a></h1>
<p>Используется для ограницазции поддержки старого когда. Может быть использован для возврата к версиям:</p>
<ul>
<li><code>1.13</code>;</li>
<li><code>1.21</code>;</li>
<li><code>False</code> - гворит о том, что не надо использовать <code>legacy</code>.</li>
</ul>
<section id="section" class="level4">
<h4 class="anchored" data-anchor-id="section"><code>1.13</code></h4>
<p>Из документации удалось выяснить только что предыдущие версии отличаются заменой знака на пропуск для полижительного числа. В документации упоминаются и прочие особенности отображения для нульмерных массивов, которые до сих поа для меня остаются загадкой.</p>
<div class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>test_arr <span class="op">=</span> np.array([<span class="fl">1.123456789</span>])</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(legacy <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(test_arr)</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(legacy <span class="op">=</span> <span class="st">'1.13'</span>)</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(test_arr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1.123]
[ 1.123]</code></pre>
</div>
</div>
</section>
<section id="section-1" class="level4">
<h4 class="anchored" data-anchor-id="section-1"><code>1.21</code></h4>
<p>Утвержается об сособенностях в отображении для сложных структурных типов. Но пока о об таких типах мне тоже не известно, потому, пока просто будем иметь эту возможность ввиду.</p>
<div class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>test_arr <span class="op">=</span> np.array(</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>    [(<span class="st">'Rex'</span>, <span class="dv">9</span>, <span class="fl">81.0</span>), (<span class="st">'Fido'</span>, <span class="dv">3</span>, <span class="fl">27.0</span>)],</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>    dtype<span class="op">=</span>[(<span class="st">'name'</span>, <span class="st">'U10'</span>), (<span class="st">'age'</span>, <span class="st">'i4'</span>), (<span class="st">'weight'</span>, <span class="st">'f4'</span>)]</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(legacy <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(test_arr)</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(legacy <span class="op">=</span> <span class="st">'1.21'</span>)</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(test_arr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[('Rex', 9, 81.) ('Fido', 3, 27.)]
[('Rex', 9, 81.) ('Fido', 3, 27.)]</code></pre>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>