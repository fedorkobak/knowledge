
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Emergency task &#8212; Knowledge base</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'algorithms/specific_tasks/emergency_task';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.jpg" class="logo__image only-light" alt="Knowledge base - Home"/>
    <script>document.write(`<img src="../../_static/logo.jpg" class="logo__image only-dark" alt="Knowledge base - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Knowlege
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Machine learning</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../machine_learning/confusion_matrix.html">Confusion matrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../machine_learning/gradient_descent.html">Gradient descent</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../machine_learning/models_selection_methods/l2_regularisation.html">L2 (Ridge regularisation)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../machine_learning/data_transformations/tf_idf.html">TF-IDF</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../machine_learning/metrics.html">Metrics</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../machine_learning/metrics/CAP.html">CAP curve</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../machine_learning/metrics/GINI.html">GINI coeficient</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../machine_learning/metrics/jaccard_index.html">Jaccard index</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Python</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../python/basics.html">Basics</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../python/basics/operators.html">Operators</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../python/basics/operators/arithmetic.html">Arithmetic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/basics/operators/break.html">Leave cycle (break)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/basics/operators/in.html">Is in array (in)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/basics/operators/indexing.html">Indexing ([])</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/basics/operators/order.html">Order</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/basics/operators/yield.html">yield</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../python/basics/basic_datatypes.html">Data types</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../python/basics/basic_datatypes/set.html">set</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/basics/basic_datatypes/dict.html">dict</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/basics/basic_datatypes/str.html">str</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/basics/basic_datatypes/frozenset.html">frozenset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/basics/basic_datatypes/tuple.html">tuple</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/basics/basic_datatypes/list.html">list</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../python/basics/paths_settings.html">Path settings</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../python/basics/paths_settings/pythonpath.html">Python path</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/basics/paths_settings/pathlib.html">Pathlib</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../python/basics/functions.html">Functions</a></li>

<li class="toctree-l2"><a class="reference internal" href="../../python/basics/exceptions.html">Exceptions</a></li>



<li class="toctree-l2"><a class="reference internal" href="../../python/basics/packages.html">Packages</a></li>

<li class="toctree-l2"><a class="reference internal" href="../../python/basics/virtual_environment.html">Virutal environment in python</a></li>








<li class="toctree-l2"><a class="reference internal" href="../../python/basics/logging.html">Logging</a></li>





<li class="toctree-l2 has-children"><a class="reference internal" href="../../python/basics/cli_arguments.html">CLI arguments</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../python/basics/cli_arguments/argparse.html">Library <code class="docutils literal notranslate"><span class="pre">argparse</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/basics/cli_arguments/manually.html">Manually</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../python/advanced.html">Advanced</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../python/advanced/collections.html"><code class="docutils literal notranslate"><span class="pre">collections</span></code> library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/advanced/excel_export.html">To excel import</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/advanced/ipython_magics.html">IPython magics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/advanced/jinja.html">Jinja</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/advanced/multi_threads.html">Multithreads in python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/advanced/transformers.html">Transformers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/advanced/hashlib.html">Hashlib</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../python/advanced/airflow.html">Airflow</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../python/advanced/airflow/run_airflow.html">Run airflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/advanced/airflow/tutorial_dag.html">Tutorial DAG</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../python/advanced/geopy.html">Geopy</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../python/advanced/geopy/distances.html">Distances</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/advanced/geopy/request.html">Request</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../python/advanced/unittest.html">unittest</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../python/advanced/unittest/check_error.html">Check error (assertRaises)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/advanced/unittest/run_before_after.html">Run code before/after</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/advanced/unittest/mocking.html">Mocking</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../python/pandas.html">Pandas</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../python/pandas/data_types.html">Data types</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../python/pandas/data_types/datetime.html">datetime</a></li>




<li class="toctree-l3"><a class="reference internal" href="../../python/pandas/data_types/columns_by_types.html">Columns by types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../python/pandas/loc.html">&lt;DataFrame/Series&gt;.loc</a></li>


<li class="toctree-l2"><a class="reference internal" href="../../python/pandas/groupby.html">Groupby</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/pandas/data_visualisation.html">Data visualisation</a></li>


<li class="toctree-l2"><a class="reference internal" href="../../python/pandas/inline_columns_add.html">Inline column add (assign)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/pandas/read_sql.html">pandas.read_sql</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../python/sklearn.html">sklearn</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../python/sklearn/pipeline.html">Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/sklearn/columns_transformer.html">Specific processing for column</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/sklearn/grid_search_cv.html">Grid search CV</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/sklearn/frozen_steps.html">Frozen steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/sklearn/estimator_to_transformer.html">Estimator to transformer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/sklearn/saving_models.html">Saving models</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../python/torch.html">Torch</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../python/torch/tensor.html">Tensor</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../python/torch/tensor/basic.html">Tensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/torch/tensor/element_wise.html">Element-wise operations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../python/torch/differentiation.html">Differentiation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/torch/layers.html">Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/torch/nn_module.html">nn.Module class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/torch/regression_network.html">Regression in torch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/torch/logistic_regression.html">Logistic regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/torch/multiclass_task.html">Multiclass task</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/torch/texts_classification.html">Text classification</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../python/torch/vision.html">Vision</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../python/torch/vision/basic.html">Basic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/torch/vision/augmentations.html">Augmentations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/torch/vision/mnist.html">MNIST</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/torch/vision/pretrains.html">Pretrains</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/torch/vision/cnn_classification.html">CNN classification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/torch/vision/unet.html">Unet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/torch/vision/datasets.html">Datasets</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../python/build_package.html">Build package</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-17"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../python/build_package/uploading_to_pypi.html">Upload package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/build_package/environment_vs_files.html">Environment vs files</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../python/build_package/pyproject_toml.html">pyproject.toml</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-18"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../python/build_package/pyproject_toml/dependencies.html">Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../python/build_package/pyproject_toml/data_files.html">Data files</a></li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/algorithms/specific_tasks/emergency_task.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Emergency task</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#problem-condition">Problem condition</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#theoretical-ideas">Theoretical ideas</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#basic">Basic</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#t-2-1"><span class="math notranslate nohighlight">\(T_2 = 1\)</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#t-2-k-2"><span class="math notranslate nohighlight">\(T_2 &gt; K_2\)</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#g-min-g-max"><span class="math notranslate nohighlight">\(G_{min} &lt; G_{max}\)</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><span class="math notranslate nohighlight">\(G_{min} &gt; G_{max}\)</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#solution-description">Solution description</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#python-implementation">Python implementation</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="emergency-task">
<h1>Emergency task<a class="headerlink" href="#emergency-task" title="Link to this heading">#</a></h1>
<p>I face this task while solving the Yandex “<a href="https://yandex.ru/yaintern/algorithm-training_1">algorithms trainings part one</a>” course on home work for first lesson.</p>
<section id="problem-condition">
<h2>Problem condition<a class="headerlink" href="#problem-condition" title="Link to this heading">#</a></h2>
<p>An ambulance crew went on a call to a segregated neighbourhood. Unfortunately, when the dispatcher received the call, he only had time to write down the house address and the number of flat <span class="math notranslate nohighlight">\(K_1\)</span>, and then the connection was cut off. However, he remembered that at the same house address some time ago an ambulance had travelled to flat <span class="math notranslate nohighlight">\(K_2\)</span>, which is located in entrance <span class="math notranslate nohighlight">\(P_2\)</span> on floor <span class="math notranslate nohighlight">\(N_2\)</span>. It is known that there are <span class="math notranslate nohighlight">\(M\)</span> floors in the house and the number of flats on each landing is the same. Write a programme that calculates the number of staircase <span class="math notranslate nohighlight">\(P_1\)</span> and the number of floor <span class="math notranslate nohighlight">\(N_1\)</span> of flat <span class="math notranslate nohighlight">\(K_1\)</span>.</p>
<p>Input format <span class="math notranslate nohighlight">\(K_1\)</span>, <span class="math notranslate nohighlight">\(M\)</span>, <span class="math notranslate nohighlight">\(K_2\)</span>, <span class="math notranslate nohighlight">\(P_2\)</span>, <span class="math notranslate nohighlight">\(N_2\)</span> one after the other. All positive.</p>
<p>The programme returns <span class="math notranslate nohighlight">\(N_1\)</span> and <span class="math notranslate nohighlight">\(P_1\)</span>.</p>
<p>If there are multiple options for a result, you must return <span class="math notranslate nohighlight">\(0\)</span>.</p>
<p>If the numbers passed are wrong, you must return -1 -1.</p>
</section>
<section id="theoretical-ideas">
<h2>Theoretical ideas<a class="headerlink" href="#theoretical-ideas" title="Link to this heading">#</a></h2>
<section id="basic">
<h3>Basic<a class="headerlink" href="#basic" title="Link to this heading">#</a></h3>
<p>The task was quite difficult (I wasn’t the only one). Therefore, I will describe some theoretical calculations that will help in solving it.</p>
<p>Sometimes I use preudographic schemes for clarity, where each row is a staircase, <code class="docutils literal notranslate"><span class="pre">[n]</span></code> is an apartment with the number <span class="math notranslate nohighlight">\(n\)</span>, the symbol <code class="docutils literal notranslate"><span class="pre">|</span></code> separates different staircases. So 2 stored buildings with 2 staircases and 2 flats on the floor will look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span> <span class="o">|</span> <span class="p">[</span><span class="mi">7</span><span class="p">][</span><span class="mi">8</span><span class="p">]</span>
<span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">|</span> <span class="p">[</span><span class="mi">5</span><span class="p">][</span><span class="mi">6</span><span class="p">]</span>
</pre></div>
</div>
<p><span class="math notranslate nohighlight">\(M*(P_2-1)\)</span> - number of stairwells on all previous staircases.</p>
<p><strong>The number of stairwells in flat 2, including all the staircases of the previous staircases</strong>, which we will call <span class="math notranslate nohighlight">\(T_2\)</span>, can be calculated as follows:</p>
<div class="math notranslate nohighlight">
\[T_2 = M*(P_2-1)+N_2\]</div>
<p>But there are special cases associated with this number, we have only mentioned them here, they will be discovered more precisely in the following subsections:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(T_2 = 1\)</span> - means that flat with known parameters is located on the ground floor of the first entrance;</p></li>
<li><p><span class="math notranslate nohighlight">\(T_2 &gt; K_2\)</span> - means that a flat with the given parameters can’t exist.</p></li>
</ul>
<p>Let <span class="math notranslate nohighlight">\(G\)</span> <strong>be the number of dwellings on a stairwell</strong> - actually it’s a crusical number for our task.</p>
<p>Let’s express a pair of quantities with this number:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(T_2*G\)</span> - number of the last flat on the same staircase as flat 2 (it could actually be flat 2);</p></li>
<li><p><span class="math notranslate nohighlight">\((T_2-1)*G\)</span> - number of the last flat on the previous staircase as flat 2.</p></li>
</ul>
<p>So <span class="math notranslate nohighlight">\(G\)</span> is the integer that must satisfy the following conditions:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{cases}
T_2*G \geq K_2; \\
(T_2-1)*G &lt; K_2.
\end{cases}
\end{split}\]</div>
<p>Now let us solve the inequalities with respect to <span class="math notranslate nohighlight">\(G\)</span>:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{cases}
G\geq \frac{K_2}{T_2}; \\
G &lt; \frac{K_2}{T_2 - 1}.
\end{cases}
\end{split}\]</div>
<p>So <span class="math notranslate nohighlight">\(G\)</span> can take all integers between <span class="math notranslate nohighlight">\(G_{min}=\lceil K_2/T_2 \rceil\)</span> and <span class="math notranslate nohighlight">\(G_{max}=\lceil K_2/(T_2 - 1) \rceil - 1\)</span>, including both.</p>
<p>But there are some cases where we need to consider the values entered:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(G_{min}=G_{max}\)</span> - the best option - we have only one possible <span class="math notranslate nohighlight">\(G\)</span> and as a result of only one possible and guaranteed solution;</p></li>
<li><p><span class="math notranslate nohighlight">\(G_{min} &lt; G_{max}\)</span> means that there are several possible numbers of flats on a stairwell. But actually that doesn’t mean we can’t unambiguously define <span class="math notranslate nohighlight">\(P_1\)</span> or <span class="math notranslate nohighlight">\(N_1\)</span> or even both of them. Read more in one of the next following subsections;</p></li>
<li><p><span class="math notranslate nohighlight">\(T_2 = 1\)</span> makes <span class="math notranslate nohighlight">\(G_{max}\)</span> is underfined. The algebra here just follows the logic of life (as always, really). <span class="math notranslate nohighlight">\(T_2-1=0\)</span>, which makes the denominator in <span class="math notranslate nohighlight">\(G_{max}\)</span> equal to zero. And just think - if flat 2 is on the first staircase, you won’t understand how many flats are on the staircase, because there can be any number of flats on the same staircase behind <span class="math notranslate nohighlight">\(K_2\)</span>. But you have to remember that if <span class="math notranslate nohighlight">\(K_1&lt;K_2\)</span> we don’t need to find <span class="math notranslate nohighlight">\(G_{max}\)</span> - <span class="math notranslate nohighlight">\(K_1\)</span> is on the first staircase as well as <span class="math notranslate nohighlight">\(K_2\)</span>;</p></li>
<li><p><span class="math notranslate nohighlight">\(G_{min} &gt; G_{max}\)</span> - means that apartment number <span class="math notranslate nohighlight">\(K_2\)</span> on stariwell <span class="math notranslate nohighlight">\(T_2\)</span> can’t exist. Read more in one of the following subsections;</p></li>
</ul>
<p>Now suppose we have chosen some value for <span class="math notranslate nohighlight">\(G\)</span>. We can calculate solutions for this G using formulas:</p>
<div class="math notranslate nohighlight">
\[T_1 = \lceil K_1/G \rceil \tag{1}\]</div>
<div class="math notranslate nohighlight">
\[P_1=\lceil T_1/M \rceil \tag{2}\]</div>
<div class="math notranslate nohighlight">
\[N_1 = T_1 - (P_1-1) \tag{3}M\]</div>
</section>
<section id="t-2-1">
<h3><span class="math notranslate nohighlight">\(T_2 = 1\)</span><a class="headerlink" href="#t-2-1" title="Link to this heading">#</a></h3>
<p>It means that the apartment with known parameters is on the first floor of the first staircase. The main challenge here is that we can’t determine <span class="math notranslate nohighlight">\(G\)</span>, because it can be any number of flats behind flats with known parameters in the same staircase.</p>
<p>Consider the example with parameters <span class="math notranslate nohighlight">\(M=3, K_2=5, P_2=1, N_2=1\)</span> - different <span class="math notranslate nohighlight">\(K_1\)</span> can lead to different special cases, so it’s set for each case.</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(K_1 = 3 \Rightarrow K_2 &gt; K_1\)</span> there are no way for second flat to be any where except first floor of first staircase, so the answer have to be <span class="math notranslate nohighlight">\(P_1=1, N_1=1\)</span>;</p></li>
<li><p><span class="math notranslate nohighlight">\(K_1 = 6\)</span> we cannot define <span class="math notranslate nohighlight">\(G\)</span>, but we can be sure that it is not less than <span class="math notranslate nohighlight">\(K_2\)</span>, since there are at least <span class="math notranslate nohighlight">\(K_2\)</span> apartments on the first floor, it guarantees that there are not more than <span class="math notranslate nohighlight">\(K_2M\)</span> apartments in the first staircase, so if <span class="math notranslate nohighlight">\(K_1 \leq K_2M\)</span> it guarantees that the apartment we are interested in is in the first staircase, but we still cannot define the floor of the apartment we are interested in so the answer should be <span class="math notranslate nohighlight">\(P_1=1, N_1=0\)</span>;</p></li>
<li><p><span class="math notranslate nohighlight">\(K_1 = 50 \Rightarrow K_1 &gt; K_2M\)</span> we can’t define anything so the answer have to be <span class="math notranslate nohighlight">\(P_1=0, N_1=0\)</span>.</p></li>
</ul>
</section>
<section id="t-2-k-2">
<h3><span class="math notranslate nohighlight">\(T_2 &gt; K_2\)</span><a class="headerlink" href="#t-2-k-2" title="Link to this heading">#</a></h3>
<p>Consider case <span class="math notranslate nohighlight">\(K_1=11\)</span>, <span class="math notranslate nohighlight">\(M=10\)</span>, <span class="math notranslate nohighlight">\(K_2=2\)</span>, <span class="math notranslate nohighlight">\(P_2=3\)</span>, <span class="math notranslate nohighlight">\(N_2=3\)</span>.</p>
<p><span class="math notranslate nohighlight">\(T_2 = 10*2 + 3 = 23\)</span></p>
<p>And what have we got? A 2nd flat on the 23rd stairwell? No sense! There must be at least one flat on each stairwell, which can be written formally as <span class="math notranslate nohighlight">\(T_2 &gt; K_2\)</span>.</p>
<p>So if the condition <span class="math notranslate nohighlight">\(T_2 &gt; K_2\)</span> isn’t complete, we have to return -1, -1.</p>
</section>
<section id="g-min-g-max">
<h3><span class="math notranslate nohighlight">\(G_{min} &lt; G_{max}\)</span><a class="headerlink" href="#g-min-g-max" title="Link to this heading">#</a></h3>
<p>Probably the easiest case I foud: <span class="math notranslate nohighlight">\(M=3, K_2 = 4, P_2 = 1, N_2 = 2\)</span>.</p>
<p>In these conditions there are two possible option for number of flats on the straiwell.</p>
<p>If <span class="math notranslate nohighlight">\(G=2\)</span>, apartment with number <span class="math notranslate nohighlight">\(K_2=4\)</span> can be the second apartment on the second staircase. As in the pseudographic scheme below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">5</span><span class="p">][</span><span class="mi">6</span><span class="p">]</span> <span class="o">|</span> <span class="p">[</span><span class="mi">11</span><span class="p">][</span><span class="mi">12</span><span class="p">]</span> <span class="o">|</span> <span class="p">[</span><span class="mi">17</span><span class="p">][</span><span class="mi">18</span><span class="p">]</span>
<span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span> <span class="o">|</span> <span class="p">[</span> <span class="mi">9</span><span class="p">][</span><span class="mi">10</span><span class="p">]</span> <span class="o">|</span> <span class="p">[</span><span class="mi">15</span><span class="p">][</span><span class="mi">16</span><span class="p">]</span>
<span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">|</span> <span class="p">[</span> <span class="mi">7</span><span class="p">][</span> <span class="mi">8</span><span class="p">]</span> <span class="o">|</span> <span class="p">[</span><span class="mi">13</span><span class="p">][</span><span class="mi">14</span><span class="p">]</span>
</pre></div>
</div>
<p>But even if <span class="math notranslate nohighlight">\(G=3\)</span>, such an apartment still exists as the first apartment of the second stairwell:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">7</span><span class="p">][</span><span class="mi">8</span><span class="p">][</span><span class="mi">9</span><span class="p">]</span> <span class="o">|</span> <span class="p">[</span><span class="mi">16</span><span class="p">][</span><span class="mi">17</span><span class="p">][</span><span class="mi">18</span><span class="p">]</span> <span class="o">|</span> <span class="p">[</span><span class="mi">25</span><span class="p">][</span><span class="mi">26</span><span class="p">][</span><span class="mi">27</span><span class="p">]</span>
<span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="mi">5</span><span class="p">][</span><span class="mi">6</span><span class="p">]</span> <span class="o">|</span> <span class="p">[</span><span class="mi">13</span><span class="p">][</span><span class="mi">14</span><span class="p">][</span><span class="mi">15</span><span class="p">]</span> <span class="o">|</span> <span class="p">[</span><span class="mi">22</span><span class="p">][</span><span class="mi">23</span><span class="p">][</span><span class="mi">24</span><span class="p">]</span>
<span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">|</span> <span class="p">[</span><span class="mi">10</span><span class="p">][</span><span class="mi">11</span><span class="p">][</span><span class="mi">12</span><span class="p">]</span> <span class="o">|</span> <span class="p">[</span><span class="mi">19</span><span class="p">][</span><span class="mi">20</span><span class="p">][</span><span class="mi">21</span><span class="p">]</span>
</pre></div>
</div>
<p>Using different values of G, we can calculate <span class="math notranslate nohighlight">\(P_1\)</span> in <span class="math notranslate nohighlight">\(N_1\)</span> using formulas <span class="math notranslate nohighlight">\((1), (2), (3)\)</span>, assuming there are <span class="math notranslate nohighlight">\(G\)</span> apartments on the stairwell.</p>
<p>So from this point everything depends on <span class="math notranslate nohighlight">\(K_1\)</span> - in some cases the problem can be solved unambiguously, in others there may be some uncertainty.</p>
<p><strong>Option1 - one solution.</strong> Suppose <span class="math notranslate nohighlight">\(K_1=2\)</span> in case both cases <span class="math notranslate nohighlight">\(N_1=1, P_1=1\)</span>.</p>
<p><strong>Option2 - uncertain floor.</strong> Suppose <span class="math notranslate nohighlight">\(K_1=6\)</span> in case <span class="math notranslate nohighlight">\(G = 2 \rightarrow N_1 = 3\)</span>, but in case <span class="math notranslate nohighlight">\(G=3\rightarrow N_1 = 2\)</span>, but the number of stairs in both cases take the same number <span class="math notranslate nohighlight">\(P_1 = 1\)</span>. So the answer must be <span class="math notranslate nohighlight">\(P_1=1\)</span>, <span class="math notranslate nohighlight">\(N_1=0\)</span>.</p>
<p><strong>Option3 - uncertain both.</strong> Suppose <span class="math notranslate nohighlight">\(K_1=9\)</span> in case <span class="math notranslate nohighlight">\(G=2 \rightarrow N_1=2, P_1=2\)</span>, but in case <span class="math notranslate nohighlight">\(G=3 \rightarrow N_1=1, P_1=3\)</span>. So both <span class="math notranslate nohighlight">\(N1\)</span> and <span class="math notranslate nohighlight">\(P_1\)</span> take different values in different cases. So the answer must be <span class="math notranslate nohighlight">\(P_1=0\)</span>, <span class="math notranslate nohighlight">\(N_1=0\)</span>.</p>
<p><strong>Option4 - uncertain staircase.</strong> Suppose <span class="math notranslate nohighlight">\(K_1=15\)</span>, in case <span class="math notranslate nohighlight">\(G=2 \rightarrow P_1=2\)</span> but in case <span class="math notranslate nohighlight">\(G_2=3 \rightarrow P_1=3\)</span> but the floor can only be determined one way <span class="math notranslate nohighlight">\(N_1 = 2\)</span>. So the final answer must be <span class="math notranslate nohighlight">\(P_1=0\)</span> , <span class="math notranslate nohighlight">\(N_1=2\)</span>.</p>
<p>So the best solution I have found so far is to try all possible values of <span class="math notranslate nohighlight">\(G\)</span> and see what values of <span class="math notranslate nohighlight">\(N_1\)</span> and <span class="math notranslate nohighlight">\(P_1\)</span> we get.</p>
</section>
<section id="id1">
<h3><span class="math notranslate nohighlight">\(G_{min} &gt; G_{max}\)</span><a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<p>Some combinations for <span class="math notranslate nohighlight">\(K_2\)</span>, <span class="math notranslate nohighlight">\(N_2\)</span>, <span class="math notranslate nohighlight">\(P_2\)</span> are impossible - some flats can’t exist on some stairwells. For example flat with number <span class="math notranslate nohighlight">\(K_2 = 6\)</span> can’t exist on stairwell with number <span class="math notranslate nohighlight">\(T_2 = 4\)</span>. The simpliest example here is <span class="math notranslate nohighlight">\(M=10\)</span>, <span class="math notranslate nohighlight">\(K_2=6\)</span>, <span class="math notranslate nohighlight">\(N_2=4\)</span>, <span class="math notranslate nohighlight">\(P_2=1\)</span>.</p>
<p>Suppose <span class="math notranslate nohighlight">\(G=1\)</span> then we will have schema:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>
<span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="p">[</span><span class="mi">4</span><span class="p">]</span>
<span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>So apartment six is on the sixth floor, which is more than the specified <span class="math notranslate nohighlight">\(N_2=4\)</span>.</p>
<p>Ok let’s try <span class="math notranslate nohighlight">\(G=2\)</span>. Schema is below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">5</span><span class="p">][</span><span class="mi">6</span><span class="p">]</span>
<span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span>
<span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<p>So here is a flat with known parameters on the 3rd floor, which is less than the given <span class="math notranslate nohighlight">\(N_2=4\)</span>. And increasing <span class="math notranslate nohighlight">\(G\)</span> will only make things worse.</p>
<p>There are no options for <span class="math notranslate nohighlight">\(G\)</span> that satisfy the given conditions.</p>
</section>
<section id="solution-description">
<h3>Solution description<a class="headerlink" href="#solution-description" title="Link to this heading">#</a></h3>
<p>Finally let’s describe final solution.</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(M &lt; N_2\)</span> means that the second apartment is on a higher floor than the one in the house under consideration - so we have to return (-1, -1) in this case. I’m not sure about this point, maybe it’s always <span class="math notranslate nohighlight">\(G_{max} &lt; G_{min}\)</span> in case <span class="math notranslate nohighlight">\(M &lt; N_2\)</span> - it has to be proved or rejected;</p></li>
<li><p>Compute <span class="math notranslate nohighlight">\(T_2 = M*(P_2-1)+N_2\)</span>;</p>
<ul>
<li><p>If <span class="math notranslate nohighlight">\(T_2 &gt; K_2\)</span> we have to return (-1, -1);</p></li>
<li><p>If <span class="math notranslate nohighlight">\(T_2=1\)</span>:</p>
<ul>
<li><p>If <span class="math notranslate nohighlight">\(K_1 \leq K_2\)</span> return (1, 1);</p></li>
<li><p>If <span class="math notranslate nohighlight">\(K_1 &gt; K_2\)</span> and <span class="math notranslate nohighlight">\(K_1 \leq K_2M\)</span> return (1, 0);</p></li>
<li><p>If <span class="math notranslate nohighlight">\(K_1 &gt; K_2M\)</span> return (-1, -1);</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Compute <span class="math notranslate nohighlight">\(G_{min}=\lceil K_2/T_2 \rceil\)</span> and <span class="math notranslate nohighlight">\(G_{max}=\lceil K_2/(T_2 - 1) \rceil - 1\)</span>;</p>
<ul>
<li><p>If <span class="math notranslate nohighlight">\(G_{min} &lt; G_{max}\)</span>;</p>
<ul>
<li><p>We need to try all options for <span class="math notranslate nohighlight">\(G = \overline{G_{min}, G_{max}}\)</span> and compute follwoing numbers:</p></li>
<li><p><span class="math notranslate nohighlight">\(T_1 = \lceil K_1/G \rceil\)</span>;</p></li>
<li><p><span class="math notranslate nohighlight">\(P_1=\lceil T_1/M \rceil\)</span>;</p></li>
<li><p><span class="math notranslate nohighlight">\(N_1 = T_1 - (P_1-1)M\)</span>;</p></li>
<li><p>If for each <span class="math notranslate nohighlight">\(G\)</span> we got same values of <span class="math notranslate nohighlight">\(P_1\)</span> and <span class="math notranslate nohighlight">\(N_1\)</span> - return them;</p></li>
<li><p>If for different <span class="math notranslate nohighlight">\(G\)</span> there are different <span class="math notranslate nohighlight">\(P_1\)</span> or <span class="math notranslate nohighlight">\(N_1\)</span> or both, we have to retrun 0 for the corresponding value;</p></li>
</ul>
</li>
<li><p>If <span class="math notranslate nohighlight">\(G_{min} \geq G_{max}\)</span> return (-1, -1).</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="python-implementation">
<h2>Python implementation<a class="headerlink" href="#python-implementation" title="Link to this heading">#</a></h2>
<p>The program from the following cell describes the python implementation of the task. The input to the program is <span class="math notranslate nohighlight">\(K_1, M, K_2, P_2, N_2\)</span> in one line, separated by spaces. The output of the programme is <span class="math notranslate nohighlight">\(P_1\)</span>, <span class="math notranslate nohighlight">\(N_1\)</span> separated by a space.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%writefile</span> emergency_task_files/solution.py
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">ceil</span>

<span class="k">def</span> <span class="nf">get_P_N</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">M</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Calculate the number of stairs (P) and the floor (N)</span>
<span class="sd">    of the flat using information about it&#39;s number (K)</span>
<span class="sd">    number of flats on the stairwell (G) and number</span>
<span class="sd">    of floors in the building.</span>

<span class="sd">    Paramters</span>
<span class="sd">    ---------</span>
<span class="sd">    G : int </span>
<span class="sd">        number of flats on the stairwell&#39;</span>
<span class="sd">    flatno : int </span>
<span class="sd">        number of the flat;</span>
<span class="sd">    M : int </span>
<span class="sd">        numver of flats in the house;</span>

<span class="sd">    Returns</span>
<span class="sd">    ---------</span>
<span class="sd">    P : int </span>
<span class="sd">        staircase number for </span>
<span class="sd">        the apartment in question;</span>
<span class="sd">    M : int</span>
<span class="sd">        floor number of the flat.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="c1"># The number of stairwells, </span>
    <span class="c1"># including all the staircases </span>
    <span class="c1"># of the previous staircases</span>
    <span class="n">T</span> <span class="o">=</span> <span class="n">ceil</span><span class="p">(</span><span class="n">K</span><span class="o">/</span><span class="n">G</span><span class="p">)</span>
    
    <span class="n">P</span> <span class="o">=</span> <span class="n">ceil</span><span class="p">(</span><span class="n">T</span><span class="o">/</span><span class="n">M</span><span class="p">)</span>
    <span class="n">N</span> <span class="o">=</span> <span class="n">T</span> <span class="o">-</span> <span class="p">(</span><span class="n">P</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">M</span>
    
    <span class="k">return</span> <span class="n">P</span><span class="p">,</span> <span class="n">N</span>

<span class="k">def</span> <span class="nf">potential_transformation</span><span class="p">(</span><span class="n">curr</span><span class="p">,</span> <span class="n">pot</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Transformate potential value to real value. </span>
<span class="sd">    If current value isn&#39;t defined we need to replace</span>
<span class="sd">    it with potential value. </span>
<span class="sd">    If there is current value and it differs from</span>
<span class="sd">    potential value we have uncertainty that means</span>
<span class="sd">    that we need to replace current value with 0.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    curr : int</span>
<span class="sd">        current value;</span>
<span class="sd">    pot : int</span>
<span class="sd">        potential value;</span>

<span class="sd">    Returns</span>
<span class="sd">    ----------</span>
<span class="sd">    out : int</span>
<span class="sd">        new current value.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="n">curr</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">pot</span>
    <span class="k">elif</span> <span class="n">curr</span><span class="o">!=</span><span class="n">pot</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="n">curr</span>
        
<span class="k">def</span> <span class="nf">sol</span><span class="p">(</span><span class="n">K1</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="n">K2</span><span class="p">,</span> <span class="n">P2</span><span class="p">,</span> <span class="n">N2</span><span class="p">):</span>

    <span class="c1"># if second flat is higher</span>
    <span class="c1"># than possible</span>
    <span class="k">if</span> <span class="n">N2</span> <span class="o">&gt;</span> <span class="n">M</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    
    <span class="c1"># The number of stairwells in flat 2, </span>
    <span class="c1"># including all the staircases of the </span>
    <span class="c1"># previous staircases</span>
    <span class="n">T2</span> <span class="o">=</span> <span class="n">M</span><span class="o">*</span><span class="p">(</span><span class="n">P2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">N2</span>

    <span class="c1"># one more impossible case</span>
    <span class="k">if</span> <span class="n">T2</span> <span class="o">&gt;</span> <span class="n">K2</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

    <span class="n">P1</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">N1</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="n">T2</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">G_min</span> <span class="o">=</span> <span class="n">ceil</span><span class="p">(</span><span class="n">K2</span><span class="o">/</span><span class="n">T2</span><span class="p">)</span>
        <span class="c1"># In the description I wrote</span>
        <span class="c1"># formula G_max = ceil(K2/(T2-1))-1</span>
        <span class="c1"># but in the Python3 implementation it&#39;s</span>
        <span class="c1"># easier to use such formula - because</span>
        <span class="c1"># the `range` function, which doesn&#39;t include the</span>
        <span class="c1"># last value.</span>
        <span class="n">G_max</span> <span class="o">=</span> <span class="n">ceil</span><span class="p">(</span><span class="n">K2</span><span class="o">/</span><span class="p">(</span><span class="n">T2</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>

        <span class="c1"># Here is greater or equal because if</span>
        <span class="c1"># we didn&#39;t subtract one from G_max</span>
        <span class="k">if</span> <span class="n">G_min</span> <span class="o">&gt;=</span> <span class="n">G_max</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span>

        <span class="k">for</span> <span class="n">G</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">G_min</span><span class="p">,</span> <span class="n">G_max</span><span class="p">):</span>
            <span class="c1"># Calculate such values of P and N</span>
            <span class="c1"># that satisfy K1, G and M</span>
            <span class="c1"># but are not yet potential values</span>
            <span class="n">pot_P1</span><span class="p">,</span> <span class="n">pot_N1</span> <span class="o">=</span> <span class="n">get_P_N</span><span class="p">(</span><span class="n">K1</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">M</span><span class="p">)</span>
            
            <span class="c1"># if P1 is not defined yet we fill it</span>
            <span class="c1"># with new value</span>
            <span class="n">P1</span> <span class="o">=</span> <span class="n">potential_transformation</span><span class="p">(</span><span class="n">P1</span><span class="p">,</span> <span class="n">pot_P1</span><span class="p">)</span>
            <span class="n">N1</span> <span class="o">=</span> <span class="n">potential_transformation</span><span class="p">(</span><span class="n">N1</span><span class="p">,</span> <span class="n">pot_N1</span><span class="p">)</span>
            
    <span class="c1"># The following cases are checked</span>
    <span class="c1"># when T2 = 1</span>
    <span class="k">elif</span> <span class="n">K1</span> <span class="o">&lt;=</span> <span class="n">K2</span><span class="p">:</span>
        <span class="c1"># This case is used when</span>
        <span class="c1"># the second flat is on the first floor</span>
        <span class="c1"># of the first staircase and</span>
        <span class="c1"># and the first flat has a lower number.</span>
        <span class="c1"># All the above guarantees that </span>
        <span class="c1"># the first flat is on the first floor of the </span>
        <span class="c1"># of the first staircase.</span>
        <span class="n">P1</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">N1</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">elif</span> <span class="n">K1</span> <span class="o">&lt;</span> <span class="n">M</span><span class="o">*</span><span class="n">K2</span><span class="p">:</span>
        <span class="c1"># This case is used when</span>
        <span class="c1"># the second flat is on the first floor</span>
        <span class="c1"># of the first staircase and</span>
        <span class="c1"># the first flat has a greater number.</span>
        <span class="c1"># But not great enought to be in the other</span>
        <span class="c1"># staircase - so we can&#39;t define floor of</span>
        <span class="c1"># the flat but staircase sertainly 1.</span>
        <span class="n">P1</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">N1</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">else</span><span class="p">:</span> 
        <span class="c1"># This case is used when</span>
        <span class="c1"># the second flat is on the first floor</span>
        <span class="c1"># of the first staircase and</span>
        <span class="c1"># the first flat has a greater number.</span>
        <span class="c1"># We can&#39;t define how many flats there are</span>
        <span class="c1"># above the second flat on the same</span>
        <span class="c1"># staircase, so the parameters of the </span>
        <span class="c1"># first flat cannot be defined.</span>
        <span class="n">P1</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">N1</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">if</span> <span class="n">M</span><span class="o">==</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">N1</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
        <span class="c1"># If we have decided in a previous step that</span>
        <span class="c1"># that number of floor is underdefined. If there is</span>
        <span class="c1"># only one floor in the building, we can be</span>
        <span class="c1"># be sure that the first apartment is on the first floor.</span>
        <span class="n">N1</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">P1</span><span class="p">,</span> <span class="n">N1</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span>
        <span class="n">sol</span><span class="p">(</span><span class="o">*</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">input</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)))</span>
    <span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Overwriting emergency_task_files/solution.py
</pre></div>
</div>
</div>
</div>
<p>Here is some unittests for program in the previous cell:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%writefile</span> emergency_task_files/test.py
<span class="kn">import</span> <span class="nn">unittest</span>
<span class="kn">from</span> <span class="nn">solution</span> <span class="kn">import</span> <span class="n">sol</span><span class="p">,</span> <span class="n">potential_transformation</span>

<span class="k">class</span> <span class="nc">Test</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test_sol</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Testing main function of the solution</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">cases</span> <span class="o">=</span> <span class="p">[</span>
            <span class="c1"># just basic case</span>
            <span class="p">({</span><span class="s1">&#39;K1&#39;</span><span class="p">:</span> <span class="mi">89</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;K2&#39;</span><span class="p">:</span> <span class="mi">41</span><span class="p">,</span> <span class="s1">&#39;P2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;N2&#39;</span><span class="p">:</span> <span class="mi">11</span><span class="p">},</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)),</span>
            <span class="c1"># the known flat on the first cell </span>
            <span class="c1"># but there&#39;s only one floor so it&#39;s safe </span>
            <span class="c1"># you can go ahead and</span>
            <span class="p">({</span><span class="s1">&#39;K1&#39;</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;K2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;P2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;N2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> 
            <span class="c1"># the known flat in the second entrance</span>
            <span class="c1"># of a one-storey building</span>
            <span class="p">({</span><span class="s1">&#39;K1&#39;</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;K2&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;P2&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;N2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
            <span class="c1"># T2 &gt; K2</span>
            <span class="p">({</span><span class="s1">&#39;K1&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;K2&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;P2&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;N2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)),</span>
            <span class="c1"># we can&#39;t define G because there can be any</span>
            <span class="c1"># number of flats befind any flat on the first</span>
            <span class="c1"># stairwell of the first staircase and K1&gt;K2</span>
            <span class="p">({</span><span class="s1">&#39;K1&#39;</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;K2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;P2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;N2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)),</span>
            <span class="c1"># we can&#39;t define G because there can be any</span>
            <span class="c1"># number of flats behind any flat on the first</span>
            <span class="c1"># staircase, but K1&lt;K2 which guarantees that the second</span>
            <span class="c1"># apartment is on the first staircase</span>
            <span class="p">({</span><span class="s1">&#39;K1&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;K2&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;P2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;N2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
            <span class="c1"># we can&#39;t define G and number of stairswells, but number</span>
            <span class="c1"># of the dwelling in question is not large enough</span>
            <span class="c1"># to be in the next staircase</span>
            <span class="p">({</span><span class="s1">&#39;K1&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;K2&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;P2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;N2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)),</span>
            <span class="c1"># G_min &lt; G_max</span>
            <span class="p">({</span><span class="s1">&#39;K1&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;K2&#39;</span><span class="p">:</span> <span class="mi">31</span><span class="p">,</span> <span class="s1">&#39;P2&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;N2&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">},</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)),</span>

            <span class="c1"># the following group of cases checking</span>
            <span class="c1"># belongs to pattern when G_min &gt; G_max</span>
            
            <span class="c1"># one solution</span>
            <span class="p">({</span><span class="s1">&#39;K1&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;K2&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;P2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;N2&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
            <span class="c1"># several cases for N</span>
            <span class="p">({</span><span class="s1">&#39;K1&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;K2&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;P2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;N2&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)),</span>
            <span class="c1"># this is specific subcase for several N</span>
            <span class="c1"># there is G_max - G_min = 3 so there are</span>
            <span class="c1"># several iterations of the solution-finding loop</span>
            <span class="c1"># and K1 selected in such way to make algo try to</span>
            <span class="c1"># replace 0 with potential value</span>
            <span class="p">({</span><span class="s1">&#39;K1&#39;</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;K2&#39;</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span> <span class="s1">&#39;P2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;N2&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)),</span>
            <span class="c1"># several cases for both</span>
            <span class="p">({</span><span class="s1">&#39;K1&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;K2&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;P2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;N2&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)),</span>
            <span class="c1"># several cases for P</span>
            <span class="p">({</span><span class="s1">&#39;K1&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;K2&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;P2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;N2&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span>

            <span class="c1"># N2&gt;M flat is higher than maximum floor</span>
            <span class="p">({</span><span class="s1">&#39;K1&#39;</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;K2&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;P2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;N2&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)),</span>
            <span class="c1"># G_min &gt; G_max</span>
            <span class="p">({</span><span class="s1">&#39;K1&#39;</span><span class="p">:</span> <span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;K2&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;P2&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;N2&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="p">]</span>

        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">cases</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">sol</span><span class="p">(</span><span class="o">**</span><span class="n">k</span><span class="p">),</span> <span class="n">c</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">test_potential_transformation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Tests for funtion `potential_transformation`.</span>
<span class="sd">        I caught a bug in this function.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">cases</span> <span class="o">=</span> <span class="p">[</span>
            <span class="c1"># a case where ambiguity of judgement </span>
            <span class="c1"># has already been established</span>
            <span class="c1"># and funtion have to return zero again</span>
            <span class="p">({</span><span class="s2">&quot;curr&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;pot&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="mi">0</span><span class="p">),</span>
            <span class="c1"># if we trying to replace curr with</span>
            <span class="c1"># the same value we have ot leave same value</span>
            <span class="p">({</span><span class="s2">&quot;curr&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;pot&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">},</span> <span class="mi">10</span><span class="p">),</span>
            <span class="c1"># if curr isn&#39;t defined yet we have</span>
            <span class="c1"># to set it with potential value</span>
            <span class="p">({</span><span class="s2">&quot;curr&quot;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;pot&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">},</span> <span class="mi">10</span><span class="p">),</span>
            <span class="c1"># if curr was set and we found</span>
            <span class="c1"># another potential value - return</span>
            <span class="c1"># marker of ambiguity</span>
            <span class="p">({</span><span class="s2">&quot;curr&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;pot&quot;</span><span class="p">:</span><span class="mi">9</span><span class="p">},</span> <span class="mi">0</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="k">for</span> <span class="n">arg</span><span class="p">,</span> <span class="n">ret</span> <span class="ow">in</span> <span class="n">cases</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">potential_transformation</span><span class="p">(</span><span class="o">**</span><span class="n">arg</span><span class="p">),</span> <span class="n">ret</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">arg</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Overwriting emergency_task_files/test.py
</pre></div>
</div>
</div>
</div>
<p>Ok now let’s try to run gotten unitests.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">bash</span>
cd emergency_task_files
python3 -m unittest test
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>..
----------------------------------------------------------------------
Ran 2 tests in 0.000s

OK
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./algorithms/specific_tasks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#problem-condition">Problem condition</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#theoretical-ideas">Theoretical ideas</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#basic">Basic</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#t-2-1"><span class="math notranslate nohighlight">\(T_2 = 1\)</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#t-2-k-2"><span class="math notranslate nohighlight">\(T_2 &gt; K_2\)</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#g-min-g-max"><span class="math notranslate nohighlight">\(G_{min} &lt; G_{max}\)</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><span class="math notranslate nohighlight">\(G_{min} &gt; G_{max}\)</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#solution-description">Solution description</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#python-implementation">Python implementation</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Fedor Kobak
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>